<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalogo Completo | Armeria Nazionale</title>
    <link rel="stylesheet" href="catalogo.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Oswald:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
<div class="background-image"></div>

<header>
    <div class="header-banner">
        <div class="logo-container">
            <img src="logoArmeria.jpeg" alt="Armeria Nazionale Logo" class="header-logo">
        </div>
        <div class="symbol-left"></div>
        <h1>CATALOGO COMPLETO</h1>
        <div class="symbol-right"></div>
        <div class="motto">FORZA • ONORE • TRADIZIONE</div>
    </div>
    <nav class="main-nav">
        <ul>
            <li><a href="index.html">HOME</a></li>
            <li><a href="storia.html">STORIA</a></li>
            <li><a href="contatti.html">CONTATTI</a></li>
        </ul>
    </nav>
</header>

<main>
    <section class="catalogo-intro">
        <div class="intro-content">
            <h2>CATALOGO COMPLETO ARMERIA NAZIONALE</h2>
            <p>Esplora la nostra selezione di armi, munizioni ed equipaggiamento tattico di alta qualità</p>
        </div>
    </section>

    <section class="catalogo-categorie">
        <h2>CATEGORIE PRODOTTI</h2>
        
        <div class="categoria-grid">
            <div class="categoria-card">
                <div class="categoria-image">
                    <div class="slideshow-container">
                        <div class="slide fade">
                            <img src="pistola.jpeg" alt="Laugo Arms Alien" />
                        </div>
                        <div class="slide fade">
                            <img src="Glock 17.jpg" alt="Glock 17" />
                        </div>
                        <div class="slide fade">
                            <img src="Barrett M82A1.jpg" alt="Barrett M82" />
                        </div>
                        <div class="slide fade">
                            <img src="Beretta ARX160.jpg" alt="Beretta ARX160" />
                        </div>
                    </div>
                </div>
                <div class="categoria-info">
                    <h3>ARMI</h3>
                    <p>La nostra completa selezione di armi da fuoco: pistole, fucili, fucili d'assalto e armi di precisione delle migliori marche mondiali.</p>
                    <div class="categoria-actions">
                        <a href="armi.html" class="details-button">VISUALIZZA CATEGORIA</a>
                    </div>
                </div>
            </div>
            
            <div class="categoria-card">
                <div class="categoria-image">
                    <div class="slideshow-container">
                        <div class="slide fade">
                            <img src="9mm.jpg" alt="Munizioni 9mm" />
                        </div>
                        <div class="slide fade">
                            <img src="5.56mm.jpeg" alt="Munizioni 5.56" />
                        </div>
                        <div class="slide fade">
                            <img src="50BMG.jpeg" alt="Munizioni .50 BMG" />
                        </div>
                        <div class="slide fade">
                            <img src="45 ACP.jpeg" alt="Munizioni .45 ACP" />
                        </div>
                    </div>
                </div>
                <div class="categoria-info">
                    <h3>MUNIZIONI</h3>
                    <p>La nostra vasta gamma di munizioni per armi corte e lunghe, dai calibri più comuni ai più specialistici per ogni esigenza.</p>
                    <div class="categoria-actions">
                        <a href="munizioni.html" class="details-button">VISUALIZZA CATEGORIA</a>
                    </div>
                </div>
            </div>
            
            <div class="categoria-card">
                <div class="categoria-image">
                    <div class="slideshow-container">
                        <div class="slide fade">
                            <img src="Giubbotto Antiproiettile Livello IV.jpeg" alt="Giubbotto Antiproiettile" />
                        </div>
                        <div class="slide fade">
                            <img src="elmetto.jpg" alt="Elmetto Balistico" />
                        </div>
                        <div class="slide fade">
                            <img src="guanti.jpg" alt="Guanti Tattici" />
                        </div>
                        <div class="slide fade">
                            <img src="stivali.jpg" alt="Stivali Tattici" />
                        </div>
                    </div>
                </div>
                <div class="categoria-info">
                    <h3>EQUIPAGGIAMENTO</h3>
                    <p>Equipaggiamento tattico, protezioni balistiche e abbigliamento specializzato per professionisti e appassionati.</p>
                    <div class="categoria-actions">
                        <a href="equipaggiamento.html" class="details-button">VISUALIZZA CATEGORIA</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section class="prodotti-in-evidenza">
        <h2>PRODOTTI IN EVIDENZA</h2>
        
        <div class="product-grid">
            <div class="product-card">
                <div class="product-image">
                    <img src="Glock 17.jpg" alt="Glock 17" />
                </div>
                <div class="product-info">
                    <h3>Glock 17 Gen5</h3>
                    <p>Pistola semiautomatica affidabile e robusta, standard per forze dell'ordine e militari.</p>
                    <p class="price">€ 750</p>
                    <div class="product-actions">
                        <a href="Glock-17.html" class="details-button">DETTAGLI</a>
                        <button class="add-to-cart" data-product="glock 17">ACQUISTA</button>
                    </div>
                </div>
            </div>
            
            <div class="product-card">
                <div class="product-image">
                    <img src="Barrett M82A1.jpg" alt="Barrett M82" />
                </div>
                <div class="product-info">
                    <h3>Barrett M82A1</h3>
                    <p>Fucile di precisione anti-materiale calibro .50 BMG, per operazioni a lunghissima distanza.</p>
                    <p class="price">€ 12.500</p>
                    <div class="product-actions">
                        <a href="Barrett-M82A1.html" class="details-button">DETTAGLI</a>
                        <button class="add-to-cart" data-product="barrett m82">ACQUISTA</button>
                    </div>
                </div>
            </div>
            
            <div class="product-card">
                <div class="product-image">
                    <img src="Giubbotto Antiproiettile Livello IV.jpeg" alt="Giubbotto Antiproiettile" />
                </div>
                <div class="product-info">
                    <h3>Giubbotto Antiproiettile Livello IV</h3>
                    <p>Giubbotto balistico con protezione livello IV, resistente a proiettili perforanti fino a 7.62mm.</p>
                    <p class="price">€ 1.200</p>
                    <div class="product-actions">
                        <a href="dettagli-giubbotto.html" class="details-button">DETTAGLI</a>
                        <button class="add-to-cart" data-product="giubbotto antiproiettile">ACQUISTA</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="view-all-button">
            <a href="index.html" class="details-button">TORNA ALLA HOME</a>
        </div>
    </section>
    
    <!-- Sezione Carrello -->
    <section class="cart">
        <h2>CARRELLO D'ACQUISTO</h2>
        <div id="cart-content">
            <ul id="cart-items">
                <!-- Gli elementi del carrello verranno inseriti qui dinamicamente -->
            </ul>
            <div class="empty-cart-message" id="empty-cart-message">Il tuo carrello è vuoto. Aggiungi prodotti per procedere all'acquisto.</div>
            <div class="cart-total">Totale: <span id="cart-total-amount">€0.00</span></div>
            <div class="cart-actions">
                <button class="clear-cart" id="clear-cart">SVUOTA CARRELLO</button>
                <button class="checkout" id="checkout">PROCEDI ALL'ACQUISTO</button>
            </div>
        </div>
    </section>
</main>

<footer>
    <div class="footer-content">
        <div class="footer-logo">
            <img src="logoArmeria.jpeg" alt="Armeria Nazionale Logo" class="footer-logo-img">
            ARMERIA NAZIONALE
        </div>
        <div class="footer-info">
            <p>&copy; 2025 - Tutti i diritti riservati</p>
            <p>Vendita riservata ai possessori di porto d'armi</p>
        </div>
    </div>
</footer>

<script src="main.js"></script>
<script>
// Script per gestire il carrello e altre funzionalità

// Inizializzazione del carrello
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let cartTotal = 0;

// Funzione per aggiornare il carrello
function updateCart() {
    const cartItems = document.getElementById('cart-items');
    const emptyCartMessage = document.getElementById('empty-cart-message');
    const cartTotalAmount = document.getElementById('cart-total-amount');
    
    // Svuota il carrello visivo
    cartItems.innerHTML = '';
    
    // Calcola il totale
    cartTotal = 0;
    
    if (cart.length === 0) {
        // Mostra il messaggio di carrello vuoto
        emptyCartMessage.style.display = 'block';
    } else {
        // Nascondi il messaggio di carrello vuoto
        emptyCartMessage.style.display = 'none';
        
        // Aggiungi ogni elemento al carrello
        cart.forEach((item, index) => {
            const li = document.createElement('li');
            li.className = 'cart-item';
            
            const itemTotal = item.price * item.quantity;
            cartTotal += itemTotal;
            
            li.innerHTML = `
                <div class="cart-item-info">
                    <span class="cart-item-name">${item.name}</span>
                    <span class="cart-item-price">€${item.price.toFixed(2)}</span>
                </div>
                <div class="cart-item-quantity">
                    <button class="quantity-btn" onclick="decreaseQuantity(${index})">-</button>
                    <span>${item.quantity}</span>
                    <button class="quantity-btn" onclick="increaseQuantity(${index})">+</button>
                </div>
                <div class="cart-item-total">
                    €${itemTotal.toFixed(2)}
                </div>
                <button class="remove-item" onclick="removeFromCart(${index})">X</button>
            `;
            
            cartItems.appendChild(li);
        });
    }
    
    // Aggiorna il totale
    cartTotalAmount.textContent = `€${cartTotal.toFixed(2)}`;
    
    // Salva il carrello nel localStorage
    localStorage.setItem('cart', JSON.stringify(cart));
}

// Funzione per aggiungere un prodotto al carrello
function addToCart(product, price) {
    // Controlla se il prodotto è già nel carrello
    const existingItemIndex = cart.findIndex(item => item.name === product);
    
    if (existingItemIndex !== -1) {
        // Incrementa la quantità se il prodotto è già nel carrello
        cart[existingItemIndex].quantity += 1;
    } else {
        // Aggiungi un nuovo elemento al carrello
        cart.push({
            name: product,
            price: price,
            quantity: 1
        });
    }
    
    // Aggiorna il carrello
    updateCart();
    
    // Mostra un messaggio di conferma
    alert(`${product} aggiunto al carrello!`);
}

// Funzione per rimuovere un prodotto dal carrello
function removeFromCart(index) {
    cart.splice(index, 1);
    updateCart();
}

// Funzione per aumentare la quantità di un prodotto
function increaseQuantity(index) {
    cart[index].quantity += 1;
    updateCart();
}

// Funzione per diminuire la quantità di un prodotto
function decreaseQuantity(index) {
    if (cart[index].quantity > 1) {
        cart[index].quantity -= 1;
    } else {
        removeFromCart(index);
    }
    updateCart();
}

// Funzione per svuotare il carrello
document.getElementById('clear-cart').addEventListener('click', function() {
    if (confirm('Sei sicuro di voler svuotare il carrello?')) {
        cart = [];
        updateCart();
    }
});

// Funzione per procedere all'acquisto
document.getElementById('checkout').addEventListener('click', function() {
    if (cart.length === 0) {
        alert('Il carrello è vuoto. Aggiungi prodotti per procedere all\'acquisto.');
    } else {
        alert('Grazie per il tuo acquisto! Sarai reindirizzato alla pagina di pagamento.');
        // Qui puoi reindirizzare l'utente alla pagina di checkout
        // window.location.href = 'checkout.html';
    }
});

// Aggiungi event listener ai pulsanti "ACQUISTA"
document.addEventListener('DOMContentLoaded', function() {
    const addToCartButtons = document.querySelectorAll('.add-to-cart');
    
    addToCartButtons.forEach(button => {
        button.addEventListener('click', function() {
            const product = this.getAttribute('data-product');
            const priceElement = this.closest('.product-info').querySelector('.price');
            const priceText = priceElement.textContent;
            const price = parseFloat(priceText.replace('€', '').replace(/\./g, '').replace(',', '.').trim());
            
            addToCart(product, price);
        });
    });
    
    // Inizializza il carrello
    updateCart();
});

// Script per gestire le slideshow
let slideIndex = [1, 1, 1];
let slideshowId = ["slideshow-0", "slideshow-1", "slideshow-2"];

// Mostra le slide iniziali
window.onload = function() {
    showSlides(1, 0);
    showSlides(1, 1);
    showSlides(1, 2);
    
    // Avvia lo scorrimento automatico
    setInterval(function() {
        changeSlide(1, 0);
        changeSlide(1, 1);
        changeSlide(1, 2);
    }, 5000); // Cambia slide ogni 5 secondi
};

function changeSlide(n, no) {
    showSlides(slideIndex[no] += n, no);
}

function showSlides(n, no) {
    let i;
    let slides = document.getElementsByClassName("slideshow-container")[no].getElementsByClassName("slide");
    
    if (n > slides.length) {slideIndex[no] = 1}    
    if (n < 1) {slideIndex[no] = slides.length}
    
    for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";  
    }
    
    slides[slideIndex[no]-1].style.display = "block";  
}
</script>
</html>